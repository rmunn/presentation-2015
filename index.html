<!doctype html>
<html lang="en">

    <head>
        <meta charset="utf-8">

        <title>reveal.js - The HTML Presentation Framework</title>

        <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
        <meta name="author" content="Hakim El Hattab">

        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

        <link rel="stylesheet" href="css/reveal.css">
        <link rel="stylesheet" href="css/theme/black.css" id="theme">

        <!-- Code syntax highlighting -->
        <link rel="stylesheet" href="lib/css/zenburn.css">

        <!-- Printing and PDF exports -->
        <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
        </script>

        <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->
    </head>

    <body>

        <div class="reveal">

            <!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">
                <section>
                    <h2>Version numbers from Git</h2>
                </section>

                <section>
                    <p>Remember SVN $Rev$ substitution?</p>
                    <p>It was really useful for version numbers.</p>
                    <div class="fragment">
                    <p>Example:</p>
                    <code>version = "1.0.<span class="redbox">$Rev$</span>"</code>
                    </div>
                    <div class="fragment">
                    <p><img height="100" class="plain nobg" src="lib/img/fat-arrow-down-0.png" /></p>
                    <code>version = "1.0.<span class="redbox">$Rev: 374 $</span>"</code>
                    </div>
                    <div class="fragment">
                    <p />
                    <small>(Maybe not as useful as all that...)</small>
                    </div>
                </section>

                <section>
                    <p>String parsing to the rescue:</p>
                    <code>"1.0.$Rev: 374 $"</code> &#x27f6; <code>"1.0.374"</code>
                    <p class="fragment">Which looks good in an About dialog.</p>
                    <p class="fragment">Makes bug report much easier to reproduce.</p>

                    <aside class="notes">
                        But with a bit of cleverness and string parsing, you
                        could turn <code>"1.0.$Rev: 374 $"</code> into
                        <code>"1.0.374"</code>, which was quite suitable for
                        putting into your Help&rarr;About box. And when users
                        submit bug reports, it's much easier to figure out
                        what specific revision they were using so you can try
                        to reproduce the bug on that specific revision. Your
                        alpha testers give you much more useful bug reports!
                    </aside>
                </section>

                <section>
                    Then along came Git.
                    <p class="fragment">Git doesn't have nice, numeric revision numbers.</p>
                    <p class="fragment">It has ugly-looking commit hashes like 8fb4da5.</p>
                </section>

                <section>
                    So, how can you get nice version numbers out of Git?
                </section>

                <section>
                    Enter the &nbsp;<code>git describe</code>&nbsp; command.
                    <p class="fragment"><code>$ git describe</code></p>
                    <p class="fragment"><code>v1.0-42-g8fb4da5</code></p>
                    <!-- <p class="fragment">Some subtleties I won't get into.</p> -->
                </section>

                <section>
                    Breakdown of a &nbsp;<code>git describe</code>&nbsp; version number:
                    <div style="display: inline-block">
                        <div class="fragment" style="float: left; color: cyan">
                            <p><code>v1.0</code></p>
                            <img height="150px" class="nobg plain" src="lib/img/fat-arrow-up-0-cyan.png" />
                            <p>Git tag</p>
                        </div>
                        <p style="float: left"><code >-</code></p>
                        <div class="fragment" style="float: left; color: lightgreen">
                            <p><code>42</code></p>
                            <img height="150px" class="nobg plain" src="lib/img/fat-arrow-up-0-lightgreen.png" />
                            <p>Commits<br/>since tag</p>
                        </div>
                        <p style="float: left"><code>-</code></p>
                        <div class="fragment" style="float: left; color: yellow">
                            <p><code>g8fb4da5</code></p>
                            <img height="150px" class="nobg plain" src="lib/img/fat-arrow-up-0-yellow.png" />
                            <p>Hash of<br/>HEAD commit</p>
                        </div>
                    </div>
                </section>

                <section>
                    So what?
                </section>

                <section>
                    <!-- Continue writing from here. -->
                    <!-- Talk about "single source of truth" for your version numbers. -->
                    <!-- Your build process can automatically do version numbers for you. -->
                    <!-- No more "update version number" commits: just tag it. -->
                </section>

                <section>
                </section>

                <section>
                </section>

                <section>
                </section>

                <section>
                </section>

                <section>
                </section>

                <section>
                </section>

                <section>
                </section>

                <section>
                </section>
            </div>

        </div>

        <script src="lib/js/head.min.js"></script>
        <script src="js/reveal.js"></script>

        <script>

            // Full list of configuration options available at:
            // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
                center: true,

                transition: 'slide', // none/fade/slide/convex/concave/zoom

                // Optional reveal.js plugins
                dependencies: [
                    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'plugin/zoom-js/zoom.js', async: true },
                    { src: 'plugin/notes/notes.js', async: true }
                ]
            });

        </script>

    </body>
</html>
